---
title: "数据库的事务"
date: 2020-06-17T08:00:57+08:00
lastmod: 2020-06-17T08:00:57+08:00
draft: false
keywords: ["事务"]
description: ""
tags: []
categories: ["数据库"]
author: "leo"

# You can also close(false) or open(true) something for this content.
# P.S. comment can only be closed
comment: false
toc: false
autoCollapseToc: false
postMetaInFooter: false
hiddenFromHomePage: false
# You can also define another contentCopyright. e.g. contentCopyright: "This is another copyright."
contentCopyright: false
---
<!--more-->

**事务就是一组原子性的SQL操作或者一个独立的工作单元，事务内的语句要么全部执行成功，要么全部执行失败。**

*比如说用户申请注销账户, 和用户关联的表一般情况下不止一张, 全部将`is_delete`状态赋值为true的话, 过程中不可以中断, 这个操作我们就需要数据库事务的介入啦~*

事务包含的四大特性:

1. 原子性
比如: UPDATE Customers SET language = 'English' WHERE Region = 'American' 
American包含几个不同的地区, 不可能存在这个语句修改了一部分, 而另外一部分没有被修改的情况; 要不全部修改, 要不失败而什么都没有修改;
2. 一致性
应用从一个正确的状态迁移到另外一个正确的状态;
3. 隔离性
多个用户并发的修改同一张表的数据时, 数据库对每个用户开启单独的事务, 不能被其他事务所干扰, 多个并发事务之间需要相互隔离.
4. 持久性
一个事务一旦被提交了, 那么就是可以持久保存在磁盘的, Mysql中会有相应的操作日志, 即使需要恢复数据, 也可以根据日志恢复最后一次更新;
